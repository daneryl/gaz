"use strict";function parseDMY(a){var b=a.split("/");return 3===b.length?new XDate(parseInt(b[2],10),parseInt(b[1]?b[1]-1:0,10),parseInt(b[0],10)):void 0}function parseDMYWithTime(a){var b=a.split("-");if(2!==b.length&&(b=a.split(" ")),2===b.length){var c=b[0],d=b[1];if(c=c.split("/"),d=d.split(":"),1===d.length&&(d[1]="00"),3===c.length&&2===d.length)return new XDate(parseInt(c[2],10),parseInt(c[1]?c[1]-1:0,10),parseInt(c[0],10),d[0],d[1])}}function parseDMYWithTimeAndSecons(a){var b=a.split("-");if(2!==b.length&&(b=a.split(" ")),2===b.length){var c=b[0],d=b[1];if(c=c.split("/"),d=d.split(":"),3===c.length&&3===d.length)return new XDate(parseInt(c[2],10),parseInt(c[1]?c[1]-1:0,10),parseInt(c[0],10),d[0],d[1],d[2])}}angular.module("gazApp",["ngRoute"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl"}).otherwise({redirectTo:"/"})}]),angular.module("gazApp").controller("MainCtrl",["$scope","Date","ReportGenerator",function(a,b,c){a.log="",a.error=!1,a.options={},a.options.degrees="40.0",a.options.date=b.now(),a.options.random_temperature=!1,a.generate=function(){a.error=!1;var d=b.generate_interval(a.options.date);d===!1&&(a.error=!0),a.log=c.generate(d,a.options.degrees,a.options.random_temperature)},a.generate(),a.$watch("options.random_temperature",function(){a.generate()})}]),angular.module("gazApp").factory("Date",function(){var a=new XDate,b=function(b){return a.setTime(b)},c=function(){for(var b=[],c=0;48>c;c++)b.push(a.toString("dd/MM/yyyy HH:mm:ss")),a.addMinutes(30);return b};return{generate_interval:function(a){var d=XDate.parse(a);return isNaN(d)?!1:(b(d),c())},now:function(){var a=new XDate;return a.toString("dd/MM/yyyy HH:mm:ss")}}}),angular.module("gazApp").factory("ReportGenerator",function(){var a=0;return{generate:function(b,c,d){var e="";c=parseFloat(c);var f=c;a=0,d&&(a=.5);var g=this;return angular.forEach(b,function(b,d){var h=d+1;e+=h+","+b+","+f.toFixed(1)+"\n";var i=Math.random()<.5?-a:a;f=g.modify_temperature(c,f,i)}),e},modify_temperature:function(a,b,c){var d=b+c;return Math.abs(a-d)>1?b:d}}}),XDate.prototype.getTimestamp=function(){return Math.round(this.getTime()/1e3)},XDate.parsers.push(parseDMYWithTimeAndSecons),XDate.parsers.push(parseDMYWithTime),XDate.parsers.push(parseDMY);